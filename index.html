<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Jacob Bass">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

  <title>Modularity and Monorepositories</title>

  <link rel="stylesheet" href="reveal/css/reveal.css">
  <link rel="stylesheet" href="reveal/css/theme/black.css" id="theme">
  <link rel="stylesheet" href="css/code.css">
  <link rel="stylesheet" href="css/index.css">
</head>

<body>
  <footer class="mono-footer">
    <div style="background-image: url(images/monolith.jpg)" class="footer-item"></div>
    <div style="background-image: url(images/monopurpose.jpg)" class="footer-item"></div>
    <div style="background-image: url(images/monorepo.jpg)" class="footer-item"></div>
  </footer>

  <div class="reveal">
    <div class="slides">
      <section>
        <h1>Modularity and Monorepositories</h1>
        <br/>
        <br/>
        <h4>Architects hate this.
          <br />
          <small>Learn how to build lasting software with this one weird trick.</small>
        </h4>
      </section>

      <section><div class="image" style="background-image: url(images/monorail.jpg)"></div></section>

      <section>
        <section>
          <h1>good <br /> architecture</h1>
          <h2>costs <span style="color: white">less</span> than</h2>
          <h1><span style="text-decoration: underline">bad</span> architecture</h1>
        </section>

        <section>
          <video preload="auto" autoPlay muted loop>
            <source src="http://i.imgur.com/c2d5ttY.mp4" type="video/mp4">
            </source>
          </video>
        </section>
      </section>

      <section>
        <section>
          <h1>Laws of Communication</h1>
        </section>

        <section>
          <div>
            <div class="horizontal-flex-container">
              <img class="horizontal-flex-item left" src="images/conway.png"></img>
              <div class="horizontal-flex-item">
                <h2>organisations are constrained to produce designs which are copies of their communication structures</h2>
                <h3>melvin conway</h3>
              </div>
            </div>
          </div>
        </section>
        <section>
          <div style="height: 35vh;">
            <img max-height: "100%" src="images/monolith.jpg"></img>
          </div>
          <h1>what does your organisation look like?</h1>
          <div style="height: 35vh; display: flex; flex-direction: row">
            <div style="width: 50vw"><img src="images/monopurpose.jpg"></img></div>
            <div style="width: 50vw"><img src="images/monorepo.jpg"></img></div>
          </div>
        </section>
      </section>

      <section data-show-mono-footer=true>
        <section style="background-image: url(images/monolith.jpg)" class="image-slide" data-dim-mono-els="1,2">
          <h1>monolith</h1>
        </section>

        <section>

        </section>

        <section style="background-image: url(images/monopurpose.jpg)" class="image-slide" data-dim-mono-els="0,2">
          <h1>monopurpose</h1>
        </section>

        <section>
          google, apple
        </section>

        <section style="background-image: url(images/monorepo.jpg)" class="image-slide" data-dim-mono-els="0,1">
          <h1>monorepo</h1>
        </section>

        <section>
          facebook
        </section>

      </section>

      <section data-show-mono-footer=true>
        <section style="background-image: url(images/head2head.jpg)" class="image-slide">
          <h1>Mono a Mono <small class="fragment">a mono</small></h1>
        </section>

        <section data-dim-mono-els="0,1,2">
          <h1>Deploy a release</h1>
        </section>

        <section data-dim-mono-els="1,2">
          <pre>
            <code class="hljs bash">
 $ npm run deploy
            </code>
          </pre>
        </section>

        <section data-dim-mono-els="0,2">
          <pre>
            <code class="hljs bash">
$ cd project1; npm run deploy
$ cd project2; npm run deploy
$ cd project3; npm run deploy
...
            </code>
          </pre>
        </section>

        <section data-dim-mono-els="0,1">
          <pre>
            <code class="hljs bash">
$ npm run deploy
            </code>
          </pre>
        </section>

        <section data-dim-mono-els="0,1,2">
          <h1>Share common functionality between projects</h1>
        </section>

        <section data-dim-mono-els="1,2">
          <h1>can't modularise just one function</h1>
          <h2>have to bundle the entire app and expose what you want</h2>
        </section>

        <section data-dim-mono-els="0,2">
          <pre>
            <code class="hljs javascript">
module.exports = function leftPad () {
  // break npm
};
            </code>
          </pre>
        </section>

        <section data-dim-mono-els="0,1">
          <pre>
            <code class="hljs javascript">
module.exports = function isThirteen () {
  // https://github.com/jezen/is-thirteen
  // ... you won't believe how thorough
  // and well tested this module is.
  // seriously, check out
  // https://github.com/jezen/is-thirteen/blob/master/test.js#L13
};
            </code>
          </pre>
        </section>

        <section data-dim-mono-els="0,1,2">
          <h1>make atomic changes to shared dependencies</h1>
        </section>

        <section data-dim-mono-els="1,2">
          <h1>Can't do this one either</h1>
        </section>

        <section data-dim-mono-els="0,2">
          <pre>
            <code class="hljs bash">
$ cd project1; npm run deploy
$ cd project2; npm run deploy
$ cd project3; npm run deploy
...
            </code>
          </pre>
        </section>

        <section data-dim-mono-els="0,1">
          <pre>
            <code class="hljs bash">
$ git add -A
$ git commit --amend --no-edit
$ git push -u origin master -f # just kidding, please don't do this
            </code>
          </pre>
        </section>

        <section data-dim-mono-els="0,1">
          <pre>
            <code class="hljs bash">
$ # make required changes
$ git add -A
$ git commit # write a meaningful commit message
$ git push -u origin branchName
$ # open PR
$ git checkout master
$ npm run deploy # calculates changes, bumps dependency versions, deploys
            </code>
          </pre>
        </section>
      </section>

      <section>
        <div class="Rtable Rtable--4cols">
          <div class="Rtable-cell"></div>
          <div class="Rtable-cell">Atomic release deployment</div>
          <div class="Rtable-cell">Common dependencies across projects</div>
          <div class="Rtable-cell">Atomic dependency management</div>

          <div class="Rtable-cell">
            <img src="images/monolith.jpg">
          </div>
          <div class="Rtable-cell">
            <img src="images/tick.png"></img>
          </div>
          <div class="Rtable-cell">
            <img src="images/cross.png"></img>
          </div>
          <div class="Rtable-cell">
            <img src="images/cross.png"></img>
          </div>

          <div class="Rtable-cell">
            <img src="images/monopurpose.jpg">
          </div>
          <div class="Rtable-cell">
            <img src="images/cross.png"></img>
          </div>
          <div class="Rtable-cell">
            <img src="images/tick.png"></img>
          </div>
          <div class="Rtable-cell">
            <img src="images/cross.png"></img>
          </div>

          <div class="Rtable-cell">
            <img src="images/monorepo.jpg">
          </div>
          <div class="Rtable-cell">
            <img src="images/tick.png"></img>
          </div>
          <div class="Rtable-cell">
            <img src="images/tick.png"></img>
          </div>
          <div class="Rtable-cell">
            <img src="images/tick.png"></img>
          </div>
        </div>
      </section>

      <section style="background-image: url(images/monorepo.jpg)" class="image-slide" data-dim-mono-els="0,1">
        <h1>monorepo</h1>
      </section>

      <section>
        <section>
          <h1>a brief note on tooling</h1>
          <h3>this is not a talk on lerna</h3>
        </section>

        <section>
          <h1>D.I.Y but Y.M.M.V</h1>
        </section>
      </section>

      <section>
        <section>
          <h1>set up</h1>
        </section>

        <section><div class="image" style="background-image: url(images/demo1/setup/init.png)"></div></section>
        <section><div class="image" style="background-image: url(images/demo1/setup/tree.png)"></div></section>
        <section><div class="image" style="background-image: url(images/demo1/setup/packagejson.png)"></div></section>
        <section><div class="image" style="background-image: url(images/demo1/setup/bootstrap.png)"></div></section>
        <section><div class="image" style="background-image: url(images/demo1/setup/linkage.png)"></div></section>
      </section>

      <section>
        <section>
          <h1>let's add some code</h1>
        </section>
        <section><div class="image" style="background-image: url(images/demo1/addcode/babel.png)"></div></section>
        <section><div class="image" style="background-image: url(images/demo1/addcode/tree.png)"></div></section>
        <section><div class="image" style="background-image: url(images/demo1/addcode/header.png)"></div></section>
        <section><div class="image" style="background-image: url(images/demo1/addcode/scripts.png)"></div></section>
      </section>

      <section>
        <section>
          <h1>the developer experience</h1>
          <video width="600px" preload="auto" autoPlay muted loop>
            <source src="images/developers.mp4" type="video/mp4">
            </source>
          </video>
        </section>

        <section><div class="image" style="background-image: url(images/demo1/devexp/story.gif)"></div></section>
      </section>

      <section>
        <section>
          <h1>make a change</h1>
        </section>

        <section><div class="image" style="background-image: url(images/demo1/devexp/story1.gif)"></div></section>
      </section>

      <section>
        <section>
          <h1>deploy</h1>
        </section>
      </section>

      <section>
        <section>
          <h1>only for frontend?</h1>
        </section>
      </section>

      <section>
        <section>
          <h1>so it's all champagne from here, right?</h1>
          <h2 class="fragment">...not necessarily</h2>
        </section>
      </section>

      <section>
        <h1>a middle ground</h1>
      </section>

      <section class="center">
        <h1>${whoami:-Jacob Bass}</h1>

        <p>github: bassjacob</p>
        <p>twitter: @bassjacob</p>
        <p>web: www.bassjacob.com</p>
        <p>email: me@bassjacob.com</p>
      </section>
    </div>
  </div>

  <script src="reveal/lib/js/head.min.js"></script>
  <script src="reveal/js/reveal.js"></script>
  <script src="js/index.js"></script>
</body>

</html>